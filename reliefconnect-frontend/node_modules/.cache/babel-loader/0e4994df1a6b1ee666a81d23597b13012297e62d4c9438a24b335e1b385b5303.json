{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Lenovo\\\\Downloads\\\\ReliefConnect_full_advanced\\\\reliefconnect-frontend\\\\src\\\\pages\\\\Register.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport CONFIG from \"../config\";\nimport { saveToken } from \"../utils/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Register() {\n  _s();\n  const [form, setForm] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\"\n  });\n  const [loading, setLoading] = useState(false);\n  const nav = useNavigate();\n\n  // handle input change\n  const handleChange = e => {\n    setForm({\n      ...form,\n      [e.target.name]: e.target.value\n    });\n  };\n\n  // handle form submit\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const res = await fetch(`${CONFIG.API_BASE}/users/register`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          ...form,\n          role: \"victim\"\n        })\n      });\n      const data = await res.json();\n      if (res.ok) {\n        if (data.token) {\n          saveToken(data.token);\n          alert(\"✅ Registration successful!\");\n          nav(\"/\");\n        } else {\n          alert(\"✅ Registered successfully. Please login.\");\n          nav(\"/login\");\n        }\n      } else {\n        alert(\"❌ \" + (data.message || \"Registration failed\"));\n      }\n    } catch (err) {\n      alert(\"❌ \" + err.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      maxWidth: 480,\n      margin: \"80px auto\",\n      background: \"white\",\n      borderRadius: 16,\n      boxShadow: \"0 8px 24px rgba(0,0,0,0.1)\",\n      padding: \"40px 30px\",\n      textAlign: \"center\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        marginBottom: 25,\n        color: \"#2c3e50\"\n      },\n      children: \"Create an Account\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      style: {\n        display: \"flex\",\n        flexDirection: \"column\",\n        gap: 15,\n        textAlign: \"left\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"name\",\n        value: form.name,\n        onChange: handleChange,\n        placeholder: \"Full Name\",\n        required: true,\n        style: {\n          padding: \"12px 15px\",\n          borderRadius: 10,\n          border: \"1px solid #ccc\",\n          fontSize: 16\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        name: \"email\",\n        value: form.email,\n        onChange: handleChange,\n        placeholder: \"Email Address\",\n        required: true,\n        style: {\n          padding: \"12px 15px\",\n          borderRadius: 10,\n          border: \"1px solid #ccc\",\n          fontSize: 16\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"password\",\n        name: \"password\",\n        value: form.password,\n        onChange: handleChange,\n        placeholder: \"Password\",\n        required: true,\n        style: {\n          padding: \"12px 15px\",\n          borderRadius: 10,\n          border: \"1px solid #ccc\",\n          fontSize: 16\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: loading,\n        style: {\n          background: loading ? \"#95a5a6\" : \"#3498db\",\n          color: \"white\",\n          padding: \"12px\",\n          border: \"none\",\n          borderRadius: 10,\n          fontSize: 16,\n          cursor: \"pointer\",\n          transition: \"background 0.3s ease\"\n        },\n        onMouseOver: e => e.target.style.background = \"#2980b9\",\n        onMouseOut: e => e.target.style.background = \"#3498db\",\n        children: loading ? \"Registering...\" : \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        marginTop: 15,\n        fontSize: 14\n      },\n      children: [\"Already have an account?\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          color: \"#3498db\",\n          cursor: \"pointer\",\n          textDecoration: \"underline\"\n        },\n        onClick: () => nav(\"/login\"),\n        children: \"Login here\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}\n_s(Register, \"8sD6h1Ye7qXECmYZWaKQxdae5G0=\", false, function () {\n  return [useNavigate];\n});\n_c = Register;\nvar _c;\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","useNavigate","CONFIG","saveToken","jsxDEV","_jsxDEV","Register","_s","form","setForm","name","email","password","loading","setLoading","nav","handleChange","e","target","value","handleSubmit","preventDefault","res","fetch","API_BASE","method","headers","body","JSON","stringify","role","data","json","ok","token","alert","message","err","style","maxWidth","margin","background","borderRadius","boxShadow","padding","textAlign","children","marginBottom","color","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","display","flexDirection","gap","type","onChange","placeholder","required","border","fontSize","disabled","cursor","transition","onMouseOver","onMouseOut","marginTop","textDecoration","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Lenovo/Downloads/ReliefConnect_full_advanced/reliefconnect-frontend/src/pages/Register.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport CONFIG from \"../config\";\nimport { saveToken } from \"../utils/auth\";\n\nexport default function Register() {\n  const [form, setForm] = useState({\n    name: \"\",\n    email: \"\",\n    password: \"\",\n  });\n  const [loading, setLoading] = useState(false);\n  const nav = useNavigate();\n\n  // handle input change\n  const handleChange = (e) => {\n    setForm({ ...form, [e.target.name]: e.target.value });\n  };\n\n  // handle form submit\n  async function handleSubmit(e) {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const res = await fetch(`${CONFIG.API_BASE}/users/register`, {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify({ ...form, role: \"victim\" }),\n      });\n\n      const data = await res.json();\n\n      if (res.ok) {\n        if (data.token) {\n          saveToken(data.token);\n          alert(\"✅ Registration successful!\");\n          nav(\"/\");\n        } else {\n          alert(\"✅ Registered successfully. Please login.\");\n          nav(\"/login\");\n        }\n      } else {\n        alert(\"❌ \" + (data.message || \"Registration failed\"));\n      }\n    } catch (err) {\n      alert(\"❌ \" + err.message);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  return (\n    <div\n      style={{\n        maxWidth: 480,\n        margin: \"80px auto\",\n        background: \"white\",\n        borderRadius: 16,\n        boxShadow: \"0 8px 24px rgba(0,0,0,0.1)\",\n        padding: \"40px 30px\",\n        textAlign: \"center\",\n      }}\n    >\n      <h2 style={{ marginBottom: 25, color: \"#2c3e50\" }}>Create an Account</h2>\n      <form\n        onSubmit={handleSubmit}\n        style={{\n          display: \"flex\",\n          flexDirection: \"column\",\n          gap: 15,\n          textAlign: \"left\",\n        }}\n      >\n        <input\n          type=\"text\"\n          name=\"name\"\n          value={form.name}\n          onChange={handleChange}\n          placeholder=\"Full Name\"\n          required\n          style={{\n            padding: \"12px 15px\",\n            borderRadius: 10,\n            border: \"1px solid #ccc\",\n            fontSize: 16,\n          }}\n        />\n\n        <input\n          type=\"email\"\n          name=\"email\"\n          value={form.email}\n          onChange={handleChange}\n          placeholder=\"Email Address\"\n          required\n          style={{\n            padding: \"12px 15px\",\n            borderRadius: 10,\n            border: \"1px solid #ccc\",\n            fontSize: 16,\n          }}\n        />\n\n        <input\n          type=\"password\"\n          name=\"password\"\n          value={form.password}\n          onChange={handleChange}\n          placeholder=\"Password\"\n          required\n          style={{\n            padding: \"12px 15px\",\n            borderRadius: 10,\n            border: \"1px solid #ccc\",\n            fontSize: 16,\n          }}\n        />\n\n        <button\n          type=\"submit\"\n          disabled={loading}\n          style={{\n            background: loading ? \"#95a5a6\" : \"#3498db\",\n            color: \"white\",\n            padding: \"12px\",\n            border: \"none\",\n            borderRadius: 10,\n            fontSize: 16,\n            cursor: \"pointer\",\n            transition: \"background 0.3s ease\",\n          }}\n          onMouseOver={(e) => (e.target.style.background = \"#2980b9\")}\n          onMouseOut={(e) => (e.target.style.background = \"#3498db\")}\n        >\n          {loading ? \"Registering...\" : \"Register\"}\n        </button>\n      </form>\n      <p style={{ marginTop: 15, fontSize: 14 }}>\n        Already have an account?{\" \"}\n        <span\n          style={{\n            color: \"#3498db\",\n            cursor: \"pointer\",\n            textDecoration: \"underline\",\n          }}\n          onClick={() => nav(\"/login\")}\n        >\n          Login here\n        </span>\n      </p>\n    </div>\n  );\n}\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}